<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MC SEARCH - RESTRICTED ACCESS</title>
    
    <link rel="icon" type="image/jpeg" href="https://i.pinimg.com/736x/33/ee/f5/33eef535b2ffa74da6a14c01834f2932.jpg">

    <style>
        :root {
            --primary-red: #ff0000;
            --dark-red: #8b0000;
            --bg-black: #0a0a0a;
            --panel-bg: #151515;
            --text-gray: #cccccc;
            --c2-blue: #00f2ff; /* Kolor akcentu dla C2Fabric */
        }

        body { 
            font-family: 'Courier New', Courier, monospace; 
            background: var(--bg-black); 
            color: white; 
            text-align: center; 
            padding: 40px 20px;
            margin: 0;
            background-image: radial-gradient(circle, #2b0000 0%, #0a0a0a 100%);
            min-height: 100vh;
        }

        .container { 
            max-width: 500px; 
            margin: auto; 
            background: var(--panel-bg); 
            padding: 30px; 
            border-radius: 4px; 
            border: 1px solid var(--dark-red);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.15);
        }

        .header-box {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            border-radius: 5px;
            border: 1px solid var(--primary-red);
            box-shadow: 0 0 10px var(--dark-red);
        }

        h1 { 
            color: var(--primary-red); 
            text-transform: uppercase; 
            letter-spacing: 2px; 
            margin: 0;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            font-size: 1.8em;
        }

        input { 
            width: 100%; 
            padding: 12px; 
            margin: 10px 0; 
            background: #000; 
            border: 1px solid #333; 
            color: var(--primary-red); 
            box-sizing: border-box;
            outline: none;
        }

        button { 
            width: 100%;
            padding: 12px; 
            cursor: pointer; 
            background: var(--dark-red); 
            color: white; 
            border: none; 
            text-transform: uppercase;
            font-weight: bold;
            transition: 0.3s;
        }

        button:hover { 
            background: var(--primary-red); 
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);
        }

        #results { 
            margin-top: 25px; 
            text-align: left; 
            background: rgba(0,0,0,0.9); 
            padding: 15px; 
            display: none; 
            border-left: 3px solid var(--primary-red);
        }

        .match { 
            color: #ff4d4d; 
            margin-bottom: 12px; 
            border-bottom: 1px solid #222; 
            padding-bottom: 8px; 
        }

        /* Nowy element dla C2Fabric */
        .c2-status {
            margin-top: 20px;
            font-size: 0.7em;
            color: var(--text-gray);
            border-top: 1px solid #333;
            padding-top: 10px;
            display: flex;
            justify-content: space-between;
        }

        .c2-tag { color: var(--c2-blue); font-weight: bold; }

        .blink { animation: blinker 1.5s linear infinite; }
        @keyframes blinker { 50% { opacity: 0.4; } }
    </style>
</head>
<body>

<div class="container" id="login-box">
    <div class="header-box">
        <img src="https://i.pinimg.com/736x/33/ee/f5/33eef535b2ffa74da6a14c01834f2932.jpg" alt="Logo" class="logo-icon">
        <h1 class="blink">SYSTEM LOGIN</h1>
    </div>
    <input type="text" id="user" placeholder="USERNAME">
    <input type="password" id="pass" placeholder="ACCESS_KEY">
    <button onclick="login()">Authorize</button>
    
    <div class="c2-status">
        <span>ENCRYPTION: AES-256</span>
        <span>NODE: <span class="c2-tag">C2FABRIC-NET</span></span>
    </div>
</div>

<div class="container" id="search-box" style="display:none;">
    <div class="header-box">
        <img src="https://i.pinimg.com/736x/33/ee/f5/33eef535b2ffa74da6a14c01834f2932.jpg" alt="Logo" class="logo-icon">
        <h1>MCSEARCH v2</h1>
    </div>
    <input type="text" id="nick" placeholder="Podaj nick celu...">
    <button onclick="search()">Execute Scan</button>
    <div id="results"></div>
    
    <div class="c2-status">
        <span>CONNECTED TO <span class="c2-tag">C2FABRIC NETWORK</span></span>
        <span class="blink">SECURE</span>
    </div>
</div>

<script>
    const AUTH_FILE = 'login-haslo.txt';
    const DB_FILES = ['popmc.txt', '4funrp.txt', 'papugamc.txt', 'sklejka.txt']; 

    async function login() {
        const userVal = document.getElementById('user').value;
        const passVal = document.getElementById('pass').value;
        try {
            const response = await fetch(AUTH_FILE);
            const text = await response.text();
            const lines = text.split('\n');
            for (let line of lines) {
                const [u, p] = line.trim().split(':');
                if (u === userVal && p === passVal) {
                    document.getElementById('login-box').style.display = 'none';
                    document.getElementById('search-box').style.display = 'block';
                    return;
                }
            }
            alert("ACCESS DENIED");
        } catch (e) { alert("ERROR: AUTH_FILE MISSING"); }
    }

    async function search() {
        const targetNick = document.getElementById('nick').value.toLowerCase().trim();
        const resultsDiv = document.getElementById('results');
        if(!targetNick) return;
        resultsDiv.innerHTML = "<span class='blink'>SCANNING C2FABRIC NODES...</span>";
        resultsDiv.style.display = 'block';
        let found = false;
        let htmlOutput = "";
        for (let fileName of DB_FILES) {
            try {
                const response = await fetch(encodeURI('Baza danych/' + fileName));
                if (!response.ok) continue;
                const text = await response.text();
                const lines = text.split('\n');
                for (let line of lines) {
                    if (!line.trim()) continue;
                    let nick = "", ip = "N/A", uuid = null;
                    if (line.includes(' - ')) {
                        const parts = line.split(' - ');
                        nick = parts[0].trim();
                        ip = parts[1] ? parts[1].trim() : "N/A";
                        uuid = parts[2] ? parts[2].trim() : null;
                    } else if (line.includes(':')) {
                        const parts = line.split(':');
                        nick = parts[0].trim();
                        ip = parts[1] ? parts[1].trim() : "N/A";
                    }
                    if (nick.toLowerCase() === targetNick) {
                        found = true;
                        htmlOutput += `<div class="match">
                            <strong>[DATABASE]:</strong> ${fileName}<br>
                            <strong>[IP]:</strong> ${ip}
                            ${uuid ? `<br><strong>[ID]:</strong> ${uuid}` : ''}
                            <br><small style="color:#00f2ff">Verified via C2Fabric Network</small>
                        </div>`;
                    }
                }
            } catch (e) {}
        }
        resultsDiv.innerHTML = found ? htmlOutput : "NO RESULTS IN C2FABRIC ARCHIVE.";
    }
</script>

</body>
</html>
